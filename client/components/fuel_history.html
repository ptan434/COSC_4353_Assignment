<!DOCTYPE html>

<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Fuel Quote History</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="../css/style.css" rel="stylesheet">
</head>
<body>
    <nav class="top-nav">
      <button id="homePage" type="button" class="nav-btn" onclick="location.href='/index'">Home</button>
      <button id="getQuote" type="button" class="nav-btn" onclick="location.href='/fuel_quote'">Get Fuel Quote</button>
      <button id="quoteHistory" type="button" class="nav-btn" onclick="location.href='/fuel_history'">Quote History</button>
      <button id="signOut" type="button" class="nav-btn">Sign Out</button>
    </nav>
    <div class="background"></div>
    <div class="cover">
      <div class="profile-pic"></div>
    </div>
    <div class="info-field">
      <button type="button" class="edit-btn">Edit Profile</button>
        <table class="fuel-history-table">
          <thead class="fuel-history-table-header">
            <tr>
              <th>Gallons Requested</th>
              <th>Delivery Address</th>
              <th>Delivery Date</th>
              <th>Suggested Price/Gallon</th>
              <th>Total Amount Due</th>
            </tr>
          </thead>
          <tbody id="myTable">
          </tbody>
        </table>
      
        <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"> </script>
        <script>
          $(document).ready(function() {
            $.getJSON("fuel_quote_history", function(data) {
              var table = document.getElementById('myTable')
              for (var i = 0; i < data.length; i++){
                var row = `<tr>
                          <td>${data[i].gallonsRequested}</td>
                          <td>${data[i].deliveryAddress}</td>
                          <td>${data[i].deliveryDate}</td>
                          <td>${data[i].suggestedPrice}</td>
                          <td>${data[i].total}</td>
                          </tr>`
                table.innerHTML += row
              }
            });
          });
        </script>
    </div>
    
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<script src="../js/scripts.js"></script>
</body>
</html>
